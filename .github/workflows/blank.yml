# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the "main" branch
  push:
    branches: [ "issue-359-jdkfile" ]


  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - run: |
          curl https://download.java.net/java/early_access/jextract/2/openjdk-19-jextract+2-3_linux-x64_bin.tar.gz -o openjdk-19-jextract+2-3_linux-x64_bin.tar.gz
          curl https://download.java.net/java/early_access/jdk19/34/GPL/openjdk-19-ea+34_linux-x64_bin.tar.gz -o openjdk-19-ea+34_linux-x64_bin.tar.gz
      - uses: actions/setup-java@v3
        with:
          distribution: jdkfile
          jdkFile: openjdk-19-jextract+2-3_linux-x64_bin.tar.gz
          java-version: 19.0.0+0-jextract
      - name: test jextract+2-3
        run: |
          which java
          echo $PATH
          set|grep JAVA
          
      - uses: actions/setup-java@v3
        with:
          distribution: jdkfile
          jdkFile: openjdk-19-ea+34_linux-x64_bin.tar.gz
          java-version: 19
      - name: test ea+34
        run: |
          which java
          echo $PATH
          set|grep JAVA     
